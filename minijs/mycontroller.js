!function(){var o=angular.module("myController",["angularUtils.directives.dirPagination","ngCsv"]);o.controller("TblController",["$scope","dataFactory","sharing",function(o,t,n){o.actionForBox="Add a row",o.row=[],o.pageSize=6,o.reverse=!1,o.sortField="inn_name",o.showAddBtn=!0,o.get_row=function(){o.data=n,t.getData().then(function(t){o.data.sharingRows=t.data,o.currentPage=1,o.pageSize=5,o.filteredItems=o.data.sharingRows.lenght,o.totalItems=o.data.sharingRows.lenght},function(o){console.log("faile to read from db"+o)})},o.add_row=function(n){confirm("Are you sure to add the row?")===!0&&t.submit(n).success(function(){o.get_row()}).error(function(){console.log("fail to add a row")}),o.row=[]},o.cancel=function(){o.row=[],o.showAddBtn=!0,o.actionForBox="Add a row"},o.delete_row=function(n){confirm("Are you sure to delete the row?")===!0&&t.deleteRow(n).success(function(){o.get_row()}).error(function(){})},o.edit_row=function(n){o.showAddBtn=!1,o.actionForBox="Edit the row",t.editRow(n).then(function(t){o.row=t.data},function(o){console.log("fail to edit row"+o)})},o.update_row=function(n){confirm("Are you sure to update the row?")===!0&&(o.showAddBtn=!0,o.actionForBox="Add a row",t.updateRow(n).success(function(){o.get_row()}).error(function(){console.log("what the fuck")})),o.row=[]}}]),o.controller("ExportController",function(o,t){o.data=t})}();